# 鱼塘(fishpond)

> 一款上班摸鱼神器,咳咳,其实我们是正儿八经的即时聊天程序,支持群聊和用户自主上传公钥，进行一对一加密通信

# 通讯协议

### 通信格式

字节| 1-3 | 4-5 | 6-7  | 8-11       | 12-15    | 16-47 | 48-49 | 50.... |
---|-----|-----|-------|------------|----------|-------|-------|--------|
内容| FPD | 消息类型| 业务代码 | 用户账号(from) | 用户账号(to) | 消息ID  | 数据长度  | 数据内容   |

* TNB为消息固定标识
* 消息类型,目前仅支持普通文本、json数据、二进制数据,后期可能会有其他扩展，具体请查看[数据类型](./protocol/src/main/java/cn/navclub/fishpond/protocol/enums/MessageT.java)
* 用户账号,在当前系统中已注册用户系统分配账号。
* 数据长度,占用2个字节，也就是说当前协议最多允许传递64kb数据,大于该数据长度将无法传递。
* 数据内容,具体传输数据


### 具体协议

* TCP会话注册

业务代码| 消息类型 | from | to |
-------|-------|---|----|
  1    | JSON  | 0 | 0  |

```json
{"sessionId":"50E0D9BA8B8544BF81977DA847245EC5"}
```
